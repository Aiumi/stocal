{% extends 'base.html' %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}

    <head>
        <style>
            body{
              padding:20px 20px;
            }
            
            .results tr[visible='false'],
            .no-result{
              display:none;
            }
            
            .results tr[visible='true']{
              display:table-row;
            }
            
            .counter{
              padding:8px; 
              color:#ccc;
            }
        </style>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script type=text/javascript>
            $(document).ready(function() {
              $(".search").keyup(function () {
                var searchTerm = $(".search").val();
                var listItem = $('.results tbody').children('tr');
                var searchSplit = searchTerm.replace(/ /g, "'):containsi('")
                
              $.extend($.expr[':'], {'containsi': function(elem, i, match, array){
                    return (elem.textContent || elem.innerText || '').toLowerCase().indexOf((match[3] || "").toLowerCase()) >= 0;
                }
              });
                
              $(".results tbody tr").not(":containsi('" + searchSplit + "')").each(function(e){
                $(this).attr('visible','false');
              });
            
              $(".results tbody tr:containsi('" + searchSplit + "')").each(function(e){
                $(this).attr('visible','true');
              });
            
              var jobCount = $('.results tbody tr[visible="true"]').length;
                $('.counter').text(jobCount + ' item(s)');
            
              if(jobCount == '0') {$('.no-result').show();}
                else {$('.no-result').hide();}
            		  });
            });
		</script>
	</head>

    <div id="container">
      <div class="userlist">
        <table class="table table-hover table-bordered results">
          <thead>
            <tr>
              <th class="col-md-5 col-xs-5">Following</th>
              <th class="col-md-4 col-xs-4">X</th>
              <th class="col-md-3 col-xs-3">Y</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
      <!--- User List --->
      <div class="company-search">
        <div class="form-group pull-right">
          <input type="text" class="search form-control" placeholder="Search a company...">
        </div>
        <span class="counter pull-right"></span>
        <table class="table table-hover table-bordered results">
          <thead>
            <tr>
              <th class="col-md-5 col-xs-5">Company</th>
              <th class="col-md-4 col-xs-4">X</th>
              <th class="col-md-3 col-xs-3">Y</th>
            </tr>
            <tr class="warning no-result">
              <td colspan="4"><i class="fa fa-warning"></i> No result</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Amazon</td>
              <td>Something</td>
              <td>Something</td>
            </tr>
            <tr>
              <td>Google</td>
              <td>Something</td>
              <td>Something</td>
            </tr>
            <tr>
              <td>Microsoft</td>
              <td>Something</td>
              <td>Something</td>
            </tr>
            <tr>
              <td>Facebook</td>
              <td>Something</td>
              <td>Something</td>
            </tr>
            <tr>
              <td>Apple</td>
              <td>Something</td>
              <td>Something</td>
            </tr>
            <tr>
              <td>Samsung</td>
              <td>Something</td>
              <td>Something</td>
            </tr>
            <tr>
              <td>Tencent</td>
              <td>Something</td>
              <td>Something</td>
            </tr>
            <tr>
              <td>Intel</td>
              <td>Something</td>
              <td>Something</td>
            </tr>
            <tr>
              <td>IBM</td>
              <td>Something</td>
              <td>Something</td>
            </tr>
            <tr>
              <td>Oracle</td>
              <td>Something</td>
              <td>Something</td>
            </tr>
          </tbody>
        </table>
      </div>
      <!--- Company Search --->
    </div>

{% endblock %}

